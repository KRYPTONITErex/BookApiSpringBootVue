<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOOK API</title>
    <!-- Vue.js CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Axios for HTTP requests -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <h1>Book Management System</h1>
        
        <!-- Tabs -->
        <div class="tabs">
            <div class="tab" :class="{ active: activeTab === 'all' }" @click="setActiveTab('all')">
                <i class="fas fa-book"></i> All Books
            </div>
            <div class="tab" :class="{ active: activeTab === 'add' }" @click="setActiveTab('add')">
                <i class="fas fa-plus-circle"></i> Add Book
            </div>
            <div class="tab" :class="{ active: activeTab === 'search' }" @click="setActiveTab('search')">
                <i class="fas fa-search"></i> Search
            </div>
        </div>
        
        <!-- Add Book Form -->
        <div v-if="activeTab === 'add'">
            <h2>Add New Book</h2>
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" v-model="newBook.title" required placeholder="Enter book title">
            </div>
            <div class="form-group">
                <label for="author">Author:</label>
                <input type="text" id="author" v-model="newBook.author" required placeholder="Enter author name">
            </div>
            <button class="add-btn" @click="addBook">
                <i class="fas fa-plus"></i> Add Book
            </button>
        </div>
        
        <!-- Search Section -->
        <div v-if="activeTab === 'search'">
            <h2>Search Books</h2>
            
            <!-- Search by ID -->
            <div class="search-container">
                <input type="number" v-model="searchId" placeholder="Search by ID" class="search-input">
                <button class="search-btn" @click="searchById">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
            
            <!-- Search by Title -->
            <div class="search-container">
                <input type="text" v-model="searchTitle" placeholder="Search by Title" class="search-input">
                <button class="search-btn" @click="searchByTitle">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
            
            <!-- Search by Author -->
            <div class="search-container">
                <input type="text" v-model="searchAuthor" placeholder="Search by Author" class="search-input">
                <button class="search-btn" @click="searchByAuthor">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
            
            <button class="reset-btn" @click="resetSearch">
                <i class="fas fa-undo"></i> Reset Search
            </button>
            
            <!-- Search Results -->
            <div v-if="searchResults.length > 0" class="book-list">
                <div class="book" v-for="book in searchResults" :key="book.id">
                    <div class="action-buttons">
                        <button class="edit-btn" @click="openEditModal(book)">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="delete-btn" @click="deleteBook(book.id)">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                    <h3>{{ book.title }}</h3>
                    <p><strong><i class="fas fa-user"></i> Author:</strong> {{ book.author }}</p>
                    <p><strong><i class="fas fa-hashtag"></i> ID:</strong> {{ book.id }}</p>
                </div>
            </div>
            <div v-else-if="searchPerformed" class="empty-state">
                <i class="fas fa-search"></i>
                <p>No results found</p>
            </div>
        </div>
        
        <!-- Book List -->
        <div v-if="activeTab === 'all'">
            <h2>All Books</h2>
            <div v-if="books.length === 0" class="empty-state">
                <i class="fas fa-books"></i>
                <p>No books available</p>
            </div>
            <div v-else class="book-list">
                <div class="book" v-for="book in books" :key="book.id">
                    <div class="action-buttons">
                        <button class="edit-btn" @click="openEditModal(book)">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="delete-btn" @click="deleteBook(book.id)">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </div>
                    <h3>{{ book.title }}</h3>
                    <p><strong><i class="fas fa-user"></i> Author:</strong> {{ book.author }}</p>
                    <p><strong><i class="fas fa-hashtag"></i> ID:</strong> {{ book.id }}</p>
                </div>
            </div>
        </div>
        
        <!-- Edit Modal -->
        <div class="modal" v-if="showEditModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Edit Book</h2>
                    <span class="close" @click="closeEditModal">&times;</span>
                </div>
                <div class="form-group">
                    <label for="edit-title">Title:</label>
                    <input type="text" id="edit-title" v-model="editingBook.title" required>
                </div>
                <div class="form-group">
                    <label for="edit-author">Author:</label>
                    <input type="text" id="edit-author" v-model="editingBook.author" required>
                </div>
                <button class="add-btn" @click="updateBook">
                    <i class="fas fa-save"></i> Update Book
                </button>
            </div>
        </div>
    </div>

    <!-- API Service -->
    <script src="js/api.js"></script>
    <!-- Main Application -->
    <script src="js/app.js"></script>
</body>
</html>